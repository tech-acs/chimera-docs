"use strict";(self.webpackChunkchimera_docs_use=self.webpackChunkchimera_docs_use||[]).push([[3941],{8128:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var t=n(4848),a=n(8453);const o={sidebar_position:5,slug:"../building-your-dashboard/creating-indicators"},r="Creating indicators",s={id:"Building your dashboard/Creating indicators",title:"Creating indicators",description:"Now that you have your core configuration in place, you can start creating indicators. Indicator creation involves running a chimera command (interactive) on the command line and will result in the creation of a file (component class) and addition of entries in to the database for created indicators, including permissions.",source:"@site/docs/developer/Building your dashboard/Creating indicators.md",sourceDirName:"Building your dashboard",slug:"/building-your-dashboard/creating-indicators",permalink:"/chimera-docs/docs/developer/building-your-dashboard/creating-indicators",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,slug:"../building-your-dashboard/creating-indicators"},sidebar:"docsSidebar",previous:{title:"Overriding case stats",permalink:"/chimera-docs/docs/developer/building-your-dashboard/overriding-case-stats"},next:{title:"Indicator organization",permalink:"/chimera-docs/docs/developer/building-your-dashboard/indicator-organization"}},d={},l=[{value:"Make indicator command",id:"make-indicator-command",level:2},{value:"Indicator templates",id:"indicator-templates",level:2},{value:"Deleting indicators",id:"deleting-indicators",level:2},{value:"Editing and publishing indicators",id:"editing-and-publishing-indicators",level:2},{value:"Implementing generated indicators",id:"implementing-generated-indicators",level:2}];function c(e){const i={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"creating-indicators",children:"Creating indicators"}),"\n",(0,t.jsx)(i.p,{children:"Now that you have your core configuration in place, you can start creating indicators. Indicator creation involves running a chimera command (interactive) on the command line and will result in the creation of a file (component class) and addition of entries in to the database for created indicators, including permissions."}),"\n",(0,t.jsx)(i.p,{children:"The created indicator file will contain the basics of an indicator, and it extends the base Chart class but will still require you two write some PHP code to implement your indicator fully."}),"\n",(0,t.jsx)(i.h2,{id:"make-indicator-command",children:"Make indicator command"}),"\n",(0,t.jsxs)(i.p,{children:["The one and only way to create indicators is by running the ",(0,t.jsx)(i.code,{children:"chimera:make-indicator"})," command."]}),"\n",(0,t.jsx)(i.p,{children:"The command is interactive and allows you to control various aspects of the generated file."}),"\n",(0,t.jsx)(i.p,{children:"You can choose to have some working sample code included in the generated file so that you can immediately start seeing realistic looking indicators in your dashboard."}),"\n",(0,t.jsx)(i.p,{children:"You can also choose to use indicator templates that have already been partially built out by us (and hopefully other contributors or yourself using the chart builder tool we include)."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"php artisan chimera:make-indicator\n"})}),"\n",(0,t.jsx)(i.admonition,{type:"caution",children:(0,t.jsx)(i.p,{children:"Please pay special attention when you provide a name for your indicator. It is what will became both the class and file name for you indicator and will create directories if you specify it.\nPlease read the instructions and examples on the command line very carefully."})}),"\n",(0,t.jsxs)(i.p,{children:["For example, the following will result in the creation of a folder called Enumeration in the ",(0,t.jsx)("span",{className:"text--danger text--light",children:"app/Livewire"})," directory and a file named ",(0,t.jsx)(i.em,{children:"HouseholdsEnumerated.php"})," inside the Enumeration directory."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Make indicator command example",src:n(4860).A+"",width:"692",height:"442"})}),"\n",(0,t.jsx)(i.h2,{id:"indicator-templates",children:"Indicator templates"}),"\n",(0,t.jsx)(i.p,{children:"Indicator templates are partial implementations of common indicators such as population pyramid, household size, sex ratio, etc."}),"\n",(0,t.jsx)(i.p,{children:"We will likely include 'out-of-the-box' indicator templates with every installation of the starter kit. You can also 'save as template' any of the indicators you create via the chart designer tool and all templates will be available for use when using the make-indicator command as can be seen in the screenshot above."}),"\n",(0,t.jsx)(i.p,{children:"What indicator templates give you is the chart design. You still have to implement the getData() method, which is what fetches and returns the data from the database."}),"\n",(0,t.jsx)(i.h2,{id:"deleting-indicators",children:"Deleting indicators"}),"\n",(0,t.jsxs)(i.p,{children:["Deleting indicators (including permissions and database entry) can be accomplished by using the generic chimera",":delete"," command"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"php artisan chimera:delete\n"})}),"\n",(0,t.jsx)(i.h2,{id:"editing-and-publishing-indicators",children:"Editing and publishing indicators"}),"\n",(0,t.jsx)(i.p,{children:"Editing and publishing indicators can be accomplished via the 'Manage' menu."}),"\n",(0,t.jsx)(i.p,{children:"There, you can edit indicator titles, descriptions, contextual help text and also provide multilingual translations for applicable fields."}),"\n",(0,t.jsx)(i.p,{children:"You can also add the indicator to one or more of the pages you have already created."}),"\n",(0,t.jsx)(i.p,{children:"The default state of indicators when they are created on the command line is to be in 'draft' mode. You can publish them so that they can become visible on the pages they are added to by using the status toggle button."}),"\n",(0,t.jsx)(i.p,{children:"If you choose to, you can also feature any indicator on the home page under its respective data source summary section. Featured indicators are indicated in the management list by a trophy icon."}),"\n",(0,t.jsx)(i.h2,{id:"implementing-generated-indicators",children:"Implementing generated indicators"}),"\n",(0,t.jsx)(i.p,{children:"There are two possible versions your generated indicator file might have."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.strong,{children:"Empty"})}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"If you choose opt out of the inclusion of working sample code during the generation, you will end up with the following file."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-php",children:"<?php\n\nnamespace App\\Http\\Livewire\\Households;\n\nuse App\\Http\\Livewire\\Chart;\n\nclass BirthRate extends Chart\n{\n    public function getData(string $filterPath): Collection\n    {\n        // TODO: Implement getData() method.\n    }\n}\n\n"})}),"\n",(0,t.jsx)(i.p,{children:"If you publish it and see the results on the destination page, you will see an empty graph that displays a standard text stating the lack of data for the indicator."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.strong,{children:"With sample code"})}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"If you choose to include sample code during the generation of the indicator, the resulting file will have a fully implemented getData() methods inside the class."}),"\n",(0,t.jsx)(i.p,{children:"If you previewed it, you would see something like the following"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Preview of indicator with sample code",src:n(7808).A+"",width:"1227",height:"600"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.strong,{children:"From a template"})}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"If you select an existing template during the generation of the indicator, the resulting file will be identical to the first (empty) case but will have the provided chart design added to the indicator's entry in the database."}),"\n",(0,t.jsxs)(i.admonition,{type:"info",children:[(0,t.jsx)(i.p,{children:"While the getData() method can be implemented in any way you want as long as you return a Laravel collection from it, you would be better served if you used the included BreakoutQueryBuilder class to do it. This powerful class provides various helpful methods such as:"}),(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"lastlyAreaLeftJoinData()"}),"\n",(0,t.jsx)(i.li,{children:"lastlyAreaRightJoinData()"}),"\n",(0,t.jsx)(i.li,{children:"debugLog()"}),"\n",(0,t.jsx)(i.li,{children:"dump()"}),"\n"]}),(0,t.jsx)(i.p,{children:"All of which along with the SQL like methods such as select(), from() etc. help you to craft and dispatch a query that will return the data you desire to see. The best way to learn about it is to read the code."})]})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},4860:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/make-indicator-command-8ee0ce72d4843916af324fef1c651a9e.png"},7808:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/preview-of-indicator-with-sample-code-543ed408e08d6cdac5d1f54698a71b66.png"},8453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>s});var t=n(6540);const a={},o=t.createContext(a);function r(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);