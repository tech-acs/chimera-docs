"use strict";(globalThis.webpackChunkchimera_docs_use=globalThis.webpackChunkchimera_docs_use||[]).push([[2663],{6403(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Getting started/Configuration","title":"Configuration","description":"Environment variables","source":"@site/docs/developer/Getting started/Configuration.md","sourceDirName":"Getting started","slug":"/getting-started/configuration","permalink":"/chimera-docs/docs/developer/getting-started/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"slug":"../getting-started/configuration"},"sidebar":"docsSidebar","previous":{"title":"Installation","permalink":"/chimera-docs/docs/developer/getting-started/installation"},"next":{"title":"Next steps","permalink":"/chimera-docs/docs/developer/getting-started/next-steps"}}');var i=t(4848),a=t(8453);const r={sidebar_position:5,slug:"../getting-started/configuration"},o="Configuration",l={},d=[{value:"Environment variables",id:"environment-variables",level:2},{value:"Database and queue",id:"database-and-queue",level:3},{value:"Mail",id:"mail",level:3},{value:"Dashboard features",id:"dashboard-features",level:3}];function h(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,i.jsx)(n.p,{children:"There are a few environment variables that you can set/change to control various aspects of the dashboard."}),"\n",(0,i.jsx)(n.h3,{id:"database-and-queue",children:"Database and queue"}),"\n",(0,i.jsx)(n.p,{children:"Primarily, you will already have set the database connection variables"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"DB_CONNECTION=pgsql"}),"\n",(0,i.jsx)(n.li,{children:"DB_HOST=your database host name or ip address"}),"\n",(0,i.jsx)(n.li,{children:"DB_PORT=your database port (5432 is the default)"}),"\n",(0,i.jsx)(n.li,{children:"DB_DATABASE=your database name"}),"\n",(0,i.jsx)(n.li,{children:"DB_USERNAME=your database username"}),"\n",(0,i.jsx)(n.li,{children:"DB_PASSWORD=your database password"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In addition, you should also set the following variables"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'APP_NAME="Your preferred dashboard name/title, shown in the title bar"'}),"\n",(0,i.jsx)(n.li,{children:"QUEUE_CONNECTION=redis"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"mail",children:"Mail"}),"\n",(0,i.jsx)(n.p,{children:"If you intend to send emails for registration invites, notifications, password recovery, etc, then you need to enable mail and also configure the mail server details."}),"\n",(0,i.jsx)(n.p,{children:'This is configured on the "Settings" page under the "Mail settings" section. If mail is enabled, the dashboard will attempt to send all emails via the SMTP server you have configured. Otherwise, the MAIL_MAILER setting in your .env file will be used.'}),"\n",(0,i.jsx)(n.p,{children:"Please make sure the SMTP server details you input are correct and tested to avoid errors in the dashboard operation."}),"\n",(0,i.jsx)(n.h3,{id:"dashboard-features",children:"Dashboard features"}),"\n",(0,i.jsx)(n.p,{children:'The following are other environment variables you can set to affect various aspects of the dashboard. Some of these are easily set from the "Settings" management menu on the web UI and the rest need to be set directly in the .env file'}),"\n",(0,i.jsx)("b",{children:"From settings page"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"APP_OWNER_NAME=ECA"}),"\n",(0,i.jsx)(n.p,{children:"set this to the organization that owns the dashboard. Used in the footer displayed across all pages (default ECA)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"APP_OWNER_URL=#"}),"\n",(0,i.jsx)(n.p,{children:"set this to the URL (website) of the organization that owns the dashboard. Used in the footer displayed across all pages (default #)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"INDICATORS_PER_PAGE=2"}),"\n",(0,i.jsx)(n.p,{children:"set this to an even integer number which controls the number of indicators shown per page (default 2)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"RECORDS_PER_PAGE=20"}),"\n",(0,i.jsx)(n.p,{children:"set this to an integer number which controls the number of rows shown in various tables of the dashboard (default 20)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"MAP_CENTER_LAT=9.005401"}),"\n",(0,i.jsx)(n.p,{children:"set this to the latitude of the map which is first panned into view when map is loaded (default 9.005401)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"MAP_CENTER_LON=38.763611"}),"\n",(0,i.jsx)(n.p,{children:"set this to the longitude of the map which is first panned into view when map is loaded (default 38.763611)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"MAP_STARTING_ZOOM=7"}),"\n",(0,i.jsx)(n.p,{children:"set this to the desired starting map zoom level. When navigating to the map page, this will be starting zoom level (default 7)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"FEATURED_INDICATORS_PER_DATA_SOURCE=2"}),"\n",(0,i.jsx)(n.p,{children:"on the home page, for each of the data sources, you can select and feature a number of indicators. You can set how many using this variable (default 2)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"MAIL_ENABLED"}),"\n",(0,i.jsx)(n.p,{children:"turn this on if you intend to send emails through the system (default false) and configure all the SMTP details"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("b",{children:"From .env file"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"CACHE_TTL_SECONDS=1800"}),"\n",(0,i.jsx)(n.p,{children:"set this to the number of seconds that you want database query results to be cached (default 60 * 30; thirty minutes)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"APP_TIMEZONE=UTC"}),"\n",(0,i.jsxs)(n.p,{children:["set this to the timezone of where the census/survey exercise is taking place (default UTC). You should only use valid timezones as per the php docs ",(0,i.jsx)(n.a,{href:"https://www.php.net/manual/en/timezones.php",children:"here"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"SECURE=false"}),"\n",(0,i.jsx)(n.p,{children:"set this to true or false depending on whether you have https enabled on your dashboard web server (default false)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"ENFORCE_2FA=false"}),"\n",(0,i.jsx)(n.p,{children:"set this to true to require users to enable and use two-factor authentication (default false)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"INVITATION_TTL_HOURS=72"}),"\n",(0,i.jsx)(n.p,{children:"set this to the number of hours you want user registration links to be valid for (default 72)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"REQUIRE_ACCOUNT_APPROVAL=false"}),"\n",(0,i.jsx)(n.p,{children:"set this to true to require that all accounts get approval from dashboard manager before they can be used (default false)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"LONG_QUERY_TIME=10"}),"\n",(0,i.jsx)(n.p,{children:"the app will time and record how long each query of the dashboard artefacts takes above the set minimum (default 10 seconds)"}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);