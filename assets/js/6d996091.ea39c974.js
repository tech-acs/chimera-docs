"use strict";(globalThis.webpackChunkchimera_docs_use=globalThis.webpackChunkchimera_docs_use||[]).push([[515],{2392(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"Deployment guide/Migrating data","title":"Migrating data","description":"When you are developing your dashboard by using tools such as the various make commands, data will be inserted into the postgres database.","source":"@site/docs/developer/Deployment guide/Migrating data.md","sourceDirName":"Deployment guide","slug":"/deployment-guide/migrating-data","permalink":"/chimera-docs/docs/developer/deployment-guide/migrating-data","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"slug":"../deployment-guide/migrating-data"},"sidebar":"docsSidebar","previous":{"title":"Deploy using docker","permalink":"/chimera-docs/docs/developer/deployment-guide/deploy-using-docker"},"next":{"title":"Running queue workers","permalink":"/chimera-docs/docs/developer/deployment-guide/running-queue-workers"}}');var r=n(4848),a=n(8453);const i={sidebar_position:3,slug:"../deployment-guide/migrating-data"},s="Migrating data",d={},c=[];function l(e){const t={admonition:"admonition",code:"code",em:"em",h1:"h1",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"migrating-data",children:"Migrating data"})}),"\n",(0,r.jsx)(t.p,{children:"When you are developing your dashboard by using tools such as the various make commands, data will be inserted into the postgres database.\nWhen you are ready for deployment, you can use the data-export and data-import commands to migrate the data from your development machine\nto the production server."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"php artisan chimera:data-export\n"})}),"\n",(0,r.jsx)(t.p,{children:"Running the above command will prompt you to select which tables from among the relevant ones to include in the export of data. If it does not already exist, it will create a directory named data-export and save one file for each of the files you have selected.\nYou can check these file into git so that it becomes available on your production server."}),"\n",(0,r.jsxs)(t.p,{children:["And on your production server, you can run the ",(0,r.jsx)(t.em,{children:"data-import"})," command to import the data you have exported on your development server. If it encounters data\nthat has already been inserted, it will be ignored."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"php artisan chimera:data-import\n"})}),"\n",(0,r.jsx)(t.p,{children:"As both of these commands are interactive, you will be fully in-control during the export and import process."}),"\n",(0,r.jsxs)(t.admonition,{type:"info",children:[(0,r.jsxs)(t.p,{children:["In order to use these two commands, you will need to have the ",(0,r.jsx)(t.em,{children:"PostgreSQL Client"})," installed on the system (not PostgreSQL server itself, just the client)"]}),(0,r.jsxs)(t.p,{children:["chimera",":data-export"," makes use of ",(0,r.jsx)(t.strong,{children:"pg_dump"})," and chimera",":data-import"," uses ",(0,r.jsx)(t.strong,{children:"psql"})]}),(0,r.jsx)(t.p,{children:"On Ubuntu, you would install PostgreSQL Client like so,"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"sudo apt install postgresql-client\n"})})]})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,t,n){n.d(t,{R:()=>i,x:()=>s});var o=n(6540);const r={},a=o.createContext(r);function i(e){const t=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);