"use strict";(globalThis.webpackChunkchimera_docs_use=globalThis.webpackChunkchimera_docs_use||[]).push([[8715],{8453(e,n,s){s.d(n,{R:()=>t,x:()=>i});var a=s(6540);const c={},r=a.createContext(c);function t(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),a.createElement(r.Provider,{value:n},e.children)}},9778(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Advanced topics/Caching","title":"Mise en cache","description":"Le Dashboard Starter Kit int\xe8gre une strat\xe9gie de mise en cache compl\xe8te.","source":"@site/i18n/fr/docusaurus-plugin-content-docs-developer/current/Advanced topics/Caching.md","sourceDirName":"Advanced topics","slug":"/advanced-topics/caching","permalink":"/chimera-docs/fr/docs/developer/advanced-topics/caching","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"slug":"../advanced-topics/caching"},"sidebar":"docsSidebar","previous":{"title":"Sous le capot","permalink":"/chimera-docs/fr/docs/developer/advanced-topics/under-the-hood"},"next":{"title":"Localisation","permalink":"/chimera-docs/fr/docs/developer/advanced-topics/localization"}}');var c=s(4848),r=s(8453);const t={sidebar_position:2,slug:"../advanced-topics/caching"},i="Mise en cache",o={},d=[{value:"chimera",id:"chimera",level:3}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"mise-en-cache",children:"Mise en cache"})}),"\n",(0,c.jsx)(n.p,{children:"Le Dashboard Starter Kit int\xe8gre une strat\xe9gie de mise en cache compl\xe8te."}),"\n",(0,c.jsxs)(n.p,{children:["La mise en cache des r\xe9sultats se fait toujours en arri\xe8re-plan. Chaque indicateur publi\xe9, carte de score, statistique de cas et indicateur cartographique sera mis en cache pendant une dur\xe9e d\xe9termin\xe9e par le param\xe8tre CACHE_TTL_SECONDS dans votre fichier .env. La valeur par d\xe9faut est ",(0,c.jsx)(n.strong,{children:"trente minutes"}),"."]}),"\n",(0,c.jsxs)(n.p,{children:["Vous souhaiterez probablement utiliser votre propre strat\xe9gie de cache adapt\xe9e \xe0 la taille de vos donn\xe9es et \xe0 vos besoins. Vous devrez donc planifier des t\xe2ches pour mettre \xe0 jour ces caches r\xe9guli\xe8rement. Cela se fait via le groupe de commandes ",(0,c.jsx)(n.code,{children:"chimera:cache"}),". Vous pouvez les ex\xe9cuter manuellement, mais il est recommand\xe9 de les planifier avec les t\xe2ches programm\xe9es de Laravel. Les donn\xe9es mises en cache avec ces commandes ne expirent pas. Elles sont mises en cache ",(0,c.jsx)(n.em,{children:'"pour toujours"'})," et la strat\xe9gie de remplacement du cache est laiss\xe9e au d\xe9veloppeur, qui doit la g\xe9rer via une planification r\xe9fl\xe9chie des commandes de cache."]}),"\n",(0,c.jsxs)(n.p,{children:["Pour plus de d\xe9tails, consultez la section ",(0,c.jsx)(n.a,{href:"https://laravel.com/docs/9.x/scheduling#scheduling-artisan-commands",children:"Planification des t\xe2ches"})," de la documentation Laravel."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-php",children:"$schedule->command('chimera:cache --data-source=enumeration')->everySixHours();\n"})}),"\n",(0,c.jsxs)(n.p,{children:["En r\xe9sum\xe9, ajoutez ce type de code \xe0 la m\xe9thode schedule() de votre fichier de classe ",(0,c.jsx)(n.code,{children:"App\\Console\\Kernel"})," pour chacune de vos commandes de cache."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"php artisan chimera:cache-indicators\nphp artisan chimera:cache-scorecards\nphp artisan chimera:cache-mapindicators\nphp artisan chimera:cache-casestats\n"})}),"\n",(0,c.jsxs)(n.h3,{id:"chimera",children:["chimera",":cache-indicators"]}),"\n",(0,c.jsx)(n.p,{children:"La commande poss\xe8de trois options pour contr\xf4ler la mise en cache :"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"max-level"})," : cette option permet de contr\xf4ler la profondeur de mise en cache des indicateurs. Par d\xe9faut, seuls les niveaux national et le premier niveau de zone sont mis en cache. Accepte un nombre entre 1 et le nombre total de hi\xe9rarchies de zones que vous avez."]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"data-source"})," : cette option permet de mettre \xe0 jour le cache des indicateurs appartenant \xe0 une source de donn\xe9es sp\xe9cifique. Par d\xe9faut, les indicateurs de toutes les sources de donn\xe9es seront mis \xe0 jour."]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.em,{children:"tag"})," : cette option cible sp\xe9cifiquement les indicateurs ayant le tag donn\xe9, en excluant tous les autres indicateurs non tagu\xe9s."]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Exemple : la premi\xe8re commande mettra \xe0 jour tous les indicateurs (publi\xe9s et non tagu\xe9s), la seconde mettra \xe0 jour tous les indicateurs (publi\xe9s et non tagu\xe9s) du questionnaire \"enumeration\" et la troisi\xe8me mettra \xe0 jour les indicateurs ayant le tag 'priority'."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}}}]);